<mat-form-field appearance="outline">
    <mat-label class="label-password">
        {{ label }}
        <span *ngIf="required && !hideRequiredMarker" class="mat-label-optional">*</span>
    </mat-label>

    <input matInput #textbox [placeholder]="placeholder" [required]="required" [formControl]="formControl"
        [type]="inputType" [maxlength]="maxCharLength" (change)="valueChange($event)" (keypress)="onKeyPress($event)"
        aria-label="Password field" [attr.aria-required]="required" [attr.aria-invalid]="formControl.invalid" />

    <!-- Visiblity Toggle Button with Accessible Properties -->
    <mat-icon matSuffix (click)="toggleVisibility()" (keyup.enter)="toggleVisibility()"
        (keyup.space)="toggleVisibility()" aria-label="Toggle password visibility"
        [attr.aria-pressed]="inputType === 'text'" tabindex="0" [style.cursor]="!isEditing ? 'pointer' : 'not-allowed'"
        [style.pointer-events]="isEditing ? 'none' : 'auto'">
        <mat-icon>{{ inputType === 'password' ? 'visibility_off' : 'visibility' }}</mat-icon>
    </mat-icon>
</mat-form-field>